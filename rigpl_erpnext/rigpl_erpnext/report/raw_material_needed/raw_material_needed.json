{
 "add_total_row": 1, 
 "apply_user_permissions": 1, 
 "creation": "2013-01-13 19:01:39", 
 "disabled": 0, 
 "docstatus": 0, 
 "doctype": "Report", 
 "idx": 0, 
 "is_standard": "Yes", 
 "modified": "2016-04-25 18:32:05.417830", 
 "modified_by": "Administrator", 
 "module": "RIGPL ERPNext", 
 "name": "Raw Material Needed", 
 "owner": "aditya@rigpl.com", 
 "query": "SELECT *,\n\n    (if(`IND:Float:50`IS NULL,0,`IND:Float:50`) + if(`PO:Float:50`IS NULL,0,`PO:Float:50`) + if(`DRM:Float:50`IS NULL,0,`DRM:Float:50`) \n    + if(`BRM:Float:50`IS NULL,0,`BRM:Float:50`)) as \"Total:Int:50\",\n\n\t(CASE \n\tWHEN (if(`IND:Float:50`IS NULL,0,`IND:Float:50`) + if(`PO:Float:50`IS NULL,0,`PO:Float:50`) + if(`DRM:Float:50`IS NULL,0,`DRM:Float:50`) \n\t+ if(`BRM:Float:50`IS NULL,0,`BRM:Float:50`)) < if(`SO:Float:50`IS NULL,0,`SO:Float:50`) THEN \"1 ORDER\"\n\n\tWHEN ((if(`IND:Float:50`IS NULL,0,`IND:Float:50`) + if(`PO:Float:50`IS NULL,0,`PO:Float:50`) + if(`DRM:Float:50`IS NULL,0,`DRM:Float:50`)\n\t+ if(`BRM:Float:50`IS NULL,0,`BRM:Float:50`))) < if(`SO:Float:50`IS NULL,0,`SO:Float:50`)+(if(`RO:Int:40` IS NULL,0,`RO:Int:40`)) THEN \"2 RM ZERO Days\"\n\t\n\tWHEN ((if(`IND:Float:50`IS NULL,0,`IND:Float:50`) + if(`PO:Float:50`IS NULL,0,`PO:Float:50`) + if(`DRM:Float:50`IS NULL,0,`DRM:Float:50`)\n\t+ if(`BRM:Float:50`IS NULL,0,`BRM:Float:50`))) < (if(`SO:Float:50`IS NULL,0,`SO:Float:50`)\n\t+2*(if(`RO:Int:40` IS NULL,0,`RO:Int:40`))) THEN \"3 RM THIRTY Days\"\n\t\n\tWHEN ((if(`IND:Float:50`IS NULL,0,`IND:Float:50`) + if(`PO:Float:50`IS NULL,0,`PO:Float:50`) + if(`DRM:Float:50`IS NULL,0,`DRM:Float:50`)\n\t+ if(`BRM:Float:50`IS NULL,0,`BRM:Float:50`))) < (if(`SO:Float:50`IS NULL,0,`SO:Float:50`)\n\t+3*(if(`RO:Int:40` IS NULL,0,`RO:Int:40`))) THEN \"4 RM SIXTY Days\"\n\t\n\tWHEN ((if(`IND:Float:50`IS NULL,0,`IND:Float:50`) + if(`PO:Float:50`IS NULL,0,`PO:Float:50`) + if(`DRM:Float:50`IS NULL,0,`DRM:Float:50`)\n\t+ if(`BRM:Float:50`IS NULL,0,`BRM:Float:50`))) < (if(`SO:Float:50`IS NULL,0,`SO:Float:50`)\n\t+4*(if(`RO:Int:40` IS NULL,0,`RO:Int:40`))) THEN \"5 RM NINETY Days\"\n\t\n\tWHEN ((if(`IND:Float:50`IS NULL,0,`IND:Float:50`) + if(`PO:Float:50`IS NULL,0,`PO:Float:50`) + if(`DRM:Float:50`IS NULL,0,`DRM:Float:50`)\n\t+ if(`BRM:Float:50`IS NULL,0,`BRM:Float:50`))) < (if(`SO:Float:50`IS NULL,0,`SO:Float:50`)\n\t+5*(if(`RO:Int:40` IS NULL,0,`RO:Int:40`))) THEN \"6 RM ONE TWENTY Days\"\n\nELSE \"\"\nend) as \"Urgency::150\"\n\nFROM (\n\nSELECT\n\n    `tabItem`.name as \"Item Code:Link/Item:150\",\n    ifnull(`tabItem`.quality,\"\") as \"Qual::60\",\n\t`tabItem`.tool_type as \"TT::100\",\n    ifnull(`tabItem`.is_rm,\"\") as \"RM::30\",\n    `tabItem`.description as \"Description::300\",\n    if(`tabItem`.height_dia=0,\"\",`tabItem`.height_dia) as \"D:Float:50\",\n\tif(`tabItem`.width=0,\"\",`tabItem`.width) as \"W:Float:50\",\n\tif(`tabItem`.length=0,\"\",`tabItem`.length) as \"L:Float:50\",\n\n\tif(`tabItem`.re_order_level=0, 0 ,`tabItem`.re_order_level) as \"RO:Int:40\",\n\tif(sum(`tabBin`.reserved_qty)=0,0,sum(`tabBin`.reserved_qty)) as \"SO:Float:50\",\n\tif(sum(`tabBin`.indented_qty)=0,0,sum(`tabBin`.indented_qty)) as \"IND:Float:50\",\n\tif(sum(`tabBin`.ordered_qty)=0,0,sum(`tabBin`.ordered_qty)) as \"PO:Float:50\",\n\n\tif(min(case WHEN `tabBin`.warehouse=\"RM-DEL20A - RIGPL\" THEN `tabBin`.actual_qty end)=0,\"\",\n\t\tmin(case WHEN `tabBin`.warehouse=\"RM-DEL20A - RIGPL\" THEN `tabBin`.actual_qty end)) as \"DRM:Float:50\",\n\tif(min(case WHEN `tabBin`.warehouse=\"RM-BGH655 - RIGPL\" THEN `tabBin`.actual_qty end)=0,\"\",\n\t\tmin(case WHEN `tabBin`.warehouse=\"RM-BGH655 - RIGPL\" THEN `tabBin`.actual_qty end)) as \"BRM:Float:50\"\n\nFROM\n\t`tabItem` left join `tabBin` on (`tabItem`.name = `tabBin`.item_code)\n\nWHERE\n\t`tabBin`.item_code != \"\"\n\tAND (`tabItem`.name REGEXP '^RC'\n\tOR `tabItem`.name REGEXP '^RH')\n\tAND `tabBin`.item_code = `tabItem`.name\n\tAND ifnull(`tabItem`.end_of_life, '2099-12-31') > CURDATE()\n\nGROUP BY\n\t`tabItem`.name\n\nORDER BY\n\t`tabItem`.quality asc,\n    `tabItem`.tool_type asc,\n    `tabItem`.height_dia asc,\n    `tabItem`.width asc,\n    `tabItem`.length asc\n\n) t", 
 "ref_doctype": "Purchase Order", 
 "report_name": "Raw Material Needed", 
 "report_type": "Script Report"
}